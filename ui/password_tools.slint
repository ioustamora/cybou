// Password Tools Window
import { Button, CheckBox, GroupBox, HorizontalBox, LineEdit, ScrollView, SpinBox, TextEdit, VerticalBox } from "std-widgets.slint";

export component PasswordToolsWindow inherits Window {
    title: "Cybou - Password Tools";
    width: 600px;
    height: 500px;

    in-out property <string> generated-password: "";
    in-out property <string> password-strength: "Weak";
    in-out property <int> password-length: 16;
    in-out property <bool> use-uppercase: true;
    in-out property <bool> use-lowercase: true;
    in-out property <bool> use-numbers: true;
    in-out property <bool> use-symbols: true;
    in-out property <string> status: "Ready";

    callback generate-password();
    callback copy-password();
    callback check-strength();
    callback clear();

    VerticalBox {
        // Header
        HorizontalBox {
            Text {
                text: "ðŸ”§ Password Tools";
                font-size: 16px;
                font-weight: 600;
            }
            HorizontalBox { width: 1px; } // Spacer
            Button {
                text: "âŒ Close";
                clicked => { /* TODO: Close window */ }
            }
        }

        // Separator
        Rectangle { height: 1px; background: #cccccc; }

        // Password Generator
        GroupBox {
            title: "ðŸ”‘ Password Generator";

            VerticalBox {
                // Length
                HorizontalBox {
                    Text { text: "Length:"; width: 60px; }
                    SpinBox {
                        value <=> password-length;
                        minimum: 8;
                        maximum: 128;
                    }
                }

                // Character Sets
                Text { text: "Character sets:"; font-weight: 600; }
                CheckBox {
                    text: "Uppercase letters (A-Z)";
                    checked <=> use-uppercase;
                }
                CheckBox {
                    text: "Lowercase letters (a-z)";
                    checked <=> use-lowercase;
                }
                CheckBox {
                    text: "Numbers (0-9)";
                    checked <=> use-numbers;
                }
                CheckBox {
                    text: "Symbols (!@#$%^&*)";
                    checked <=> use-symbols;
                }

                // Generate Button
                Button {
                    text: "ðŸŽ² Generate Password";
                    clicked => { generate-password(); }
                }
            }
        }

        // Generated Password
        GroupBox {
            title: "ðŸ“‹ Generated Password";

            VerticalBox {
                TextEdit {
                    text <=> generated-password;
                    placeholder-text: "Generated password will appear here...";
                    read-only: true;
                    wrap: word-wrap;
                }
                HorizontalBox {
                    Text { text: "Strength:"; }
                    Text {
                        text: password-strength;
                        color: password-strength == "Very Strong" ? #00aa00 :
                               password-strength == "Strong" ? #aaaa00 :
                               password-strength == "Medium" ? #ff6600 : #aa0000;
                    }
                }
                HorizontalBox {
                    Button {
                        text: "ðŸ“‹ Copy";
                        clicked => { copy-password(); }
                    }
                    Button {
                        text: "ðŸ” Check Strength";
                        clicked => { check-strength(); }
                    }
                }
            }
        }

        // Password Tips
        GroupBox {
            title: "ðŸ’¡ Password Security Tips";

            VerticalBox {
                Text { text: "â€¢ Use at least 12 characters"; }
                Text { text: "â€¢ Include uppercase, lowercase, numbers, and symbols"; }
                Text { text: "â€¢ Avoid common words or patterns"; }
                Text { text: "â€¢ Use a unique password for each account"; }
                Text { text: "â€¢ Consider using a password manager"; }
            }
        }

        // Status
        HorizontalBox {
            Text { text: "ðŸ“Š Status:"; }
            Text {
                text: status;
                color: status == "Ready" ? #666666 : #00aa00;
            }
        }
    }
}